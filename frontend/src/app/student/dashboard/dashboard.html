<div class="events-container">
    <div class="events-header">
        <h1 class="events-title">Tableau de Bord Étudiant</h1>
        @if (currentUser()) {
            <p class="events-subtitle">Bienvenue, {{ currentUser()?.firstName }} {{ currentUser()?.lastName }}!</p>
        }
    </div>

    <!-- Section 1: Mes Inscriptions -->
    
    <div class="section-wrapper my-events-section">
        <div class="section-header">
            <h2 class="section-title">Mes Inscriptions</h2>
            <p class="section-subtitle">Préparez-vous pour vos prochains événements</p>
        </div>
        @if (isLoadingRegistrations()) {
        <div class="no-results-message">
            <p class="main-text">Chargement de vos inscriptions...</p>
        </div>
        } @else if (myEvents() && myEvents()!.length > 0) {
        <div class="events-grid">
            @for(event of myEvents()!; track event.id) {
                <app-event-card 
                    [event]="event" 
                    [isRegistered]="true"
                    (registrationCancelled)="onRegistrationCancelled()">
                </app-event-card>
            }
        </div>
    } @else {
        <div class="no-results-message">
            <p class="main-text">Vous n'êtes inscrit à aucun événement pour le moment.</p>
        </div>
    }
    </div>


    <!-- Section 2: Cette Semaine -->
    
    <div class="section-wrapper week-section">

        <div class="section-header">
            <h2 class="section-title">Cette Semaine</h2>
            <p class="section-subtitle">Ne manquez pas ce qui se passe maintenant !</p>
        </div>
        @if (isLoadingEvents()) {
        <div class="no-results-message">
            <p class="main-text">Chargement des événements de la semaine...</p>
        </div>
        } @else if (thisWeekEvents().length > 0) {
        <div class="events-grid">
            @for(event of thisWeekEvents(); track event.id) {
                <app-event-card 
                    [event]="event"
                    [isRegistered]="myEventIds().has(event.id)"
                    (registrationCancelled)="onRegistrationCancelled()">
                </app-event-card>
            }
        </div>
        } 
        @else {
        <div class="no-results-message">
            <p class="main-text">Aucun événement prévu cette semaine.</p>
        </div> }
    </div>
    

    
</div>
