<div class="events-container">
    <div class="events-header">
        <h1 class="events-title">Tableau de Bord Étudiant</h1>
        @if (currentUser()) {
            <p class="events-subtitle">Bienvenue, {{ currentUser()?.firstName }} {{ currentUser()?.lastName }}!</p>
        }
    </div>

    <!-- Section 1: Mes Inscriptions -->
    
    <div class="section-wrapper my-events-section">
        <div class="section-header">
            <h2 class="section-title">Mes Inscriptions</h2>
            <p class="section-subtitle">Préparez-vous pour vos prochains événements</p>
        </div>
        @if (myEvents() && myEvents()!.length > 0) {
        <div class="events-grid">
            @for(event of myEvents()!; track event.id) {
                <app-event-card [event]="event" [isRegistered]="true"></app-event-card>
            }
        </div>
    } @else {
        <div class="no-results-message">
            <p class="main-text">Vous n'êtes inscrit à aucun événement pour le moment.</p>
        </div>
    }
    </div>


    <!-- Section 2: Cette Semaine -->
    
    <div class="section-wrapper week-section">

        <div class="section-header">
            <h2 class="section-title">Cette Semaine</h2>
            <p class="section-subtitle">Ne manquez pas ce qui se passe maintenant !</p>
        </div>
        @if (thisWeekEvents().length > 0) {
        <div class="events-grid">
            @for(event of thisWeekEvents(); track event.id) {
                <app-event-card [event]="event"></app-event-card>
            }
        </div>
        } 
        @else {
        <div class="no-results-message">
            <p class="main-text">Aucun événement prévu cette semaine.</p>
        </div> }
    </div>
    

    <!-- Section 3: Tous les Événements -->
    @if (allEvents() !== null) {
    <div class="section-wrapper all-events-section">
        <div class="section-header">
            <h2 class="section-title">Tous les Événements</h2>
            <p class="section-subtitle">Découvrez tous les événements disponibles</p>
        </div>
        <div class="events-grid">
            @for(event of allEvents()!; track event.id) {
                <app-event-card [event]="event"></app-event-card>
            }
            @empty {
            <div class="no-results-message">
                <p class="main-text">Aucun événement disponible pour le moment.</p>
            </div>
            }
        </div>
    </div>
    }
</div>
